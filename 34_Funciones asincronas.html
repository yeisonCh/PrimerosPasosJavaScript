<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Ascincrona</title>
</head>

<body>


<script>
//formas para trabajar la asincronia
function cuadradoPromise(value){

   if(typeof value !== "number"){
      return Promise.reject(`Error el valor ${value} ingresado, no es un nÃºmero`)
   }
   return new Promise((resolve, reject)=>{
      //los metodos resuleve y rechaza son metodos estaticos
      setTimeout(()=>{
      resolve({
         value,
         resultado:value*value

      });
   },0|Math.random()*1000);

   });
   
}


async function funcionAsincronaDeclarada(){
   //bloque para manejo de errores
   try{
      console.log("Inicia funcion asincrona");
      //await la usamos para que espere hasta que se ejecute cuadradoPromise 0
      let obj= await cuadradoPromise(0);
      console.log(`Async function: ${obj.value}, ${obj.resultado}`);

      obj= await cuadradoPromise(1);
      console.log(`Async function: ${obj.value}, ${obj.resultado}`);

      obj= await cuadradoPromise(2);
      console.log(`Async function: ${obj.value}, ${obj.resultado}`);

      obj= await cuadradoPromise(3);
      console.log(`Async function: ${obj.value}, ${obj.resultado}`);

      obj= await cuadradoPromise("4");
      console.log(`Async function: ${obj.value}, ${obj.resultado}`);

      obj= await cuadradoPromise(5);
      console.log(`Async function: ${obj.value}, ${obj.resultado}`);


   }
   catch(err){ 
      console.error(err)
   }
   
}

funcionAsincronaDeclarada();

const funtionAsicronExpresada = async() =>{
    //bloque para manejo de errores
    try{
      console.log("Inicia funcion asincrona");
      //await la usamos para que espere hasta que se ejecute cuadradoPromise 0
      let obj= await cuadradoPromise(6);
      console.log(`Async function: ${obj.value}, ${obj.resultado}`);

      obj= await cuadradoPromise(7);
      console.log(`Async function: ${obj.value}, ${obj.resultado}`);

      obj= await cuadradoPromise(8);
      console.log(`Async function: ${obj.value}, ${obj.resultado}`);

      obj= await cuadradoPromise(9);
      console.log(`Async function: ${obj.value}, ${obj.resultado}`);

      obj= await cuadradoPromise(10);
      console.log(`Async function: ${obj.value}, ${obj.resultado}`);

      obj= await cuadradoPromise("A");
      console.log(`Async function: ${obj.value}, ${obj.resultado}`);


   }
   catch(err){ 
      console.error(err)
   }
}
funtionAsicronExpresada();

</script>

</body>
</html>